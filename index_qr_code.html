<!DOCTYPE html>
<html translate="no">
<head>
    <meta charset="utf-8">
        <title>Arc | home</title>
        <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
		<link href="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.css" rel="stylesheet">
        <script src="https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.js"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
		<script src='https://unpkg.com/@turf/turf@6/turf.min.js'></script>
        <link rel="stylesheet" href="css/style.css">
</head>
<body class="index-w">
    <div class="container-fluid content-container">
        <div class="row content">
            <div class="col-12">
                <div class="row row-content"></div>
                <div class="row row-content">
                    <div class="col-1"></div>
                    <div class="col p-0 m-0">
                        <h2 class="hyper">La<br>memoria</h2>
                    </div>
                    <div class="col-5"></div>
                </div>
                <div class="row row-content"></div>
                <div class="row row-content"></div>
                <div class="row row-content"></div>
                <div class="row row-content architetture">
                    <div class="col-1"></div>
                    <div class="col p-0 m-0">
                        <h2 class="hyper">delle<br>architetture</h2>
                    </div>
                    <div class="col-1"></div>
                </div>
            </div>
        </div>
        <div class="row content">
            <div class="col-12 not-visible">
                <div class="row h-100">
                    <div class="col-8"></div>
                    <div class="col-4 p-0 m-0 d-flex align-items-end">
                        <p class="hyper p-0" style="margin: 0 0 -8px -5px;"> Un itinerario narrante le architetture del '900 di Pesaro. </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row content">
            <div class="col-12">
                <div class="row row-content"></div>
                <div class="row row-content"></div>
                <div class="row row-content"></div>
                <div class="row row-content">
                    <div class="col-6 col-xl-8"></div>
                    <div class="col-6 col-xl-4">
                        <a class="link b" href="scelta_itinerario.html">
                            <h4 class="violet">INIZIA &nbsp;></h4>
                            <div class="underline"></div>
                        </a>
                    </div>
                </div>
                <div class="row row-content"></div>
                <div class="row row-content"></div>
            </div>
        </div>
    </div>

    <div class="div-arc w blend-mode-difference">
        <p class="p-arc a-arc">A</p>
        <p class="p-arc r-arc">R</p>
        <p class="p-arc c-arc">C</p>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="anime-master/lib/anime.min.js"></script>
    <script>
        /* --------------------------------------------------------------------------------------- Variable font ------------------------------------------ */
       function convertRange( value, r1, r2 ) { 
       return ( value - r1[ 0 ] ) * ( r2[ 1 ] - r2[ 0 ] ) / ( r1[ 1 ] - r1[ 0 ] ) + r2[ 0 ];
       }

       var rangeMinOriginale = 225;
       var rangeMaxOriginale = 5590;

       var fontVariations = {
       height_a: 1,
       height_r: 1,
       height_c: 1,
       CNTR: 1
       };

       $( document ).ready(function() {
       let winWidth = window.innerWidth;
       let winHeight = window.innerHeight;

       let fontSize = ((winHeight-100) / 3) / 70 * 100;
       let divContentWidth = (winWidth-60);
       let divContentHeight = ((winHeight-100) / 3);

       let rDisplay_Originale = fontSize / 933.33;

       let rangeMinDisplay = rangeMinOriginale * rDisplay_Originale;
       let rangeMaxDisplay = rangeMaxOriginale * rDisplay_Originale;

       let valorePercentuale = convertRange((winWidth-60), [ rangeMinDisplay, rangeMaxDisplay ], [ 1, 100 ] );
       
       let fontWidth = valorePercentuale;

       // $('.inspect').css('width', window.innerWidth - 60 + "px");
       $('.p-arc').css('font-size', fontSize).css('font-stretch', fontWidth + "%");
       $('.content-container div.content').css('height', divContentHeight).css('width',divContentWidth);

       function randomValues() {
           anime({
           targets: fontVariations,
           height_a: function() {
               return anime.random(1, 100);
           },
           height_r: function() {
               return anime.random(1, 100);
           },
           height_c: function() {
               return anime.random(1, 50);
           },
           CNTR: function() {
               return anime.random(1, 100);
           },
           easing: 'easeInOutQuad',
           duration: 1200,
           /* direction: 'alternate', */
           update: function() {
               $('.a-arc').css('fontVariationSettings', "'CNTR'" + fontVariations.CNTR + "," + "'hght'" + fontVariations.height_a );
               $('.r-arc').css('fontVariationSettings', "'CNTR'" + fontVariations.CNTR + "," + "'hght'" + fontVariations.height_r );
               $('.c-arc').css('fontVariationSettings', "'CNTR'" + fontVariations.CNTR + "," + "'hght'" + fontVariations.height_c );
           },
           complete: randomValues
           }); 
       }

       randomValues();

       if(winWidth > 700){
           window.addEventListener("mousemove", updateTextMouse)
       }else{
           window.removeEventListener("mousemove", updateTextMouse);
       }
       });

       $( window ).resize(function() {
       let winWidth = window.innerWidth;
       let winHeight = window.innerHeight;

       let fontSize = ((winHeight-100) / 3) / 70 * 100;
       let divContentWidth = (winWidth-60);
       let divContentHeight = ((winHeight-100) / 3);

       let rDisplay_Originale = fontSize / 933.33;

       let rangeMinDisplay = rangeMinOriginale * rDisplay_Originale;
       let rangeMaxDisplay = rangeMaxOriginale * rDisplay_Originale;

       let valorePercentuale = convertRange((winWidth-60), [ rangeMinDisplay, rangeMaxDisplay ], [ 1, 100 ] );
       
       let fontWidth = valorePercentuale;

       $('.inspect').css('width', window.innerWidth - 60 + "px");
       $('.p-arc').css('font-size', fontSize).css('font-stretch', fontWidth + "%");
       $('.content-container div.content').css('height', divContentHeight).css('width',divContentWidth);

       if(winWidth > 700){
           window.addEventListener("mousemove", updateTextMouse)
       }else{
           window.removeEventListener("mousemove", updateTextMouse);
       }
       });


       function updateTextMouse(e) {
       // window.innerWidth e window.innerHeight corrispondono a larghezza e altezza della finestra
       // e.offsetX ed e.offsetY corrispondono 
       // multiplierWidth = e.clientX / window.innerWidth;
       multiplierHeight = e.clientY / window.innerHeight;
       
       // multiplierWidth e multiplierHeight vanno da 0 a 1 a seconda della posizione del mouse
       // randomCNTR =  multiplierWidth * (100 - 1) + 1;
       randomWght =  multiplierHeight * (700 - 1) + 1;

       // myText.style.fontVariationSettings = "\"wght\" " + randomWeight + ", \"wdth\" " + randomWidth;
       $('.p-arc').css('font-weight', randomWght);
       }
   </script>
    <script src="js/script.js"></script>
</body>
</html>